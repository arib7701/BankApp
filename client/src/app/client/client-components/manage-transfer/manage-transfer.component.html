<flash-messages></flash-messages>
<div class="box box-primary">
    <div class="box-header">
      <h3 class="box-title">Transfer Money</h3>
    </div><!-- /.box-header -->
    <div>
        <form (submit)=onSubmit() [formGroup]="transferForm">
          <div class="box-body">
              <div class="form-group">
                <mat-form-field class="example-full-width">
                  <mat-select placeholder="Pick the sending Account" name="fromAccount" id="fromAccount" formControlName="fromAccount">
                    <mat-option *ngFor="let account of accounts; let i = index" [value]="i">
                      {{account.name}}
                    </mat-option>
                  </mat-select>
                  <mat-error *ngIf="fromAccount.hasError('required')">
                      Required <strong>field</strong>
                    </mat-error>
                </mat-form-field>
              </div>
              <div class="form-group" *ngIf="typeTransfer == 'myAccounts'">
                <mat-form-field class="example-full-width">
                  <mat-select placeholder="Pick the receiving Account" name="toAccount" id="toAccount" formControlName="toAccount">
                    <mat-option *ngFor="let account of accounts; let i = index" [value]="i">
                      {{account.name}}
                    </mat-option>
                  </mat-select>
                  <mat-error *ngIf="toAccount.hasError('required')">
                      Required <strong>field</strong>
                    </mat-error>
                </mat-form-field>
              </div>
              <div class="form-group" *ngIf="typeTransfer == 'toOthers'">
                <mat-form-field class="example-full-width">
                  <input type="number" matInput placeholder="Enter the receiving account number" name="toAccount" id="toAccount" formControlName="toAccount">
                  <mat-error *ngIf="toAccount.hasError('required')">
                      Required <strong>field</strong>
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="form-group" *ngIf="typeTransfer == 'toOthers'">
                <mat-form-field class="example-full-width">
                  <mat-select placeholder="Select the type of receiving Account" name="typeToAccount" id="typeToAccount" formControlName="typeToAccount">
                    <mat-option value="spending">Spending</mat-option>
                    <mat-option value="saving">Saving</mat-option>
                  </mat-select>
                  <mat-error *ngIf="typeToAccount.hasError('required')">
                      Required <strong>field</strong>
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="form-group">
                <mat-form-field class="example-full-width">
                  <input type="number" matInput placeholder="Enter amount to transfer" name="amount" id="amount" formControlName="amount">
                  <mat-error *ngIf="amount.hasError('required')">
                    Required <strong>field</strong>
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="form-group" *ngIf="typeTransfer == 'toOthers'">
                <mat-form-field class="example-full-width">
                  <input type="text" matInput placeholder="Receiver firstname" name="firstname" id="firstname" formControlName="firstname">
                  <mat-error *ngIf="firstname.hasError('required')">
                    Required <strong>field</strong>
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="form-group" *ngIf="typeTransfer == 'toOthers'">
                  <mat-form-field class="example-full-width">
                    <input type="text" matInput placeholder="Receiver lastname" name="lastname" id="lastname" formControlName="lastname">
                    <mat-error *ngIf="lastname.hasError('required')">
                      Required <strong>field</strong>
                    </mat-error>
                  </mat-form-field>
                </div>
          </div><!-- /.box-body -->
  
          <div class="box-footer">
            <button style="justify-content: flex-end" type="submit" mat-raised-button color="primary" [disabled]="!transferForm.valid">Make the Transfer</button>
          </div>
        </form>
      </div>
  </div><!-- /.box -->
